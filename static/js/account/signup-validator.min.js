var Signup=function(){jQuery.validator.addMethod("phoneValidate",function(f,e){f=f.replace(/\s+/g,"");return this.optional(e)||f.length>9&&f.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("phonei18n",function(e){return(e.match(/^(\+([0-9]|([-\s\.])?){9,20})$/))},"Please provide a valid phone number +44 7733 123 456");jQuery.validator.addMethod("phonei18nformat",function(e){return(e.match(/^((\+)?[1-9]{1,2})?([-\s\.])?((\(\d{1,4}\))|\d{1,4})(([-\s\.])?[0-9]{1,12}){1,2}(\s*(ext|x)\s*\.?:?\s*([0-9]+))?$/))},"Please enter a valid phone number");var b=function(e){$("input[type='radio'], input[type='checkbox']").on("ifChecked",function(f){$(this).parent().closest(".has-error").removeClass("has-error").addClass("has-success").find(".help-block").hide().end().find(".symbol").addClass("ok")})};var c=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var g=new RegExp("[\\?&]"+e+"=([^&#]*)"),f=g.exec(location.search);return f==null?"":decodeURIComponent(f[1].replace(/\+/g," "))};var d=function(){$.validator.setDefaults({errorElement:"span",errorClass:"help-block",errorPlacement:function(e,f){if(f.attr("type")=="radio"||f.attr("type")=="checkbox"){e.insertAfter($(f).closest(".form-group").children("div").children().last())}else{if(f.attr("name")=="card_expiry_mm"||f.attr("name")=="card_expiry_yyyy"){e.appendTo($(f).closest(".form-group").children("div"))}else{e.insertAfter(f)}}},ignore:":hidden",success:function(e,f){e.addClass("help-block valid");$(f).closest(".form-group").removeClass("has-error")},highlight:function(e){$(e).closest(".help-block").removeClass("valid");$(e).closest(".form-group").addClass("has-error")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error")}})};var a=function(){var f=$(".form-register");var e=$(".errorHandler",f);f.validate({rules:{contact_name:{minlength:2,required:true},location:{minlength:2,required:true},financial_name:{minlength:2,required:false},rfc:{minlength:8,required:false},client_type:{required:true},website:{minlength:2,required:false},country:{required:true},phone_number:{required:false,phonei18n:true,minlength:9},username:{required:true},email:{email:true,required:true},password:{minlength:6,required:true},password_confirm:{required:true,minlength:6,equalTo:"#id_password"},privacy_accept:{minlength:1,required:true}},submitHandler:function(g){e.hide();g.submit()},invalidHandler:function(h,g){e.show()}})};return{init:function(){b();d();a()}}}();